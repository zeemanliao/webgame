<!DOCTYPE html>
<html>

<head>
    <title>
        <%=title%>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8">
    <!--
    <script src="http://www.google.com/jsapi"></script>
    <script>
    google.load("jquery", "1");
    google.load("jqueryui", "1");
    </script>
-->
    <script src="../public/javascripts/jquery-1.11.1.min.js"></script>
    <script src="../public/javascripts/jquery-ui-1.10.4.custom.js"></script>
    <link rel="stylesheet" type="text/css" href="../public/stylesheets/style.css">
</head>


<body>
    <div CLASS="msg_frame" id="msg_frame">
        <div CLASS="msg_box" id="msg_box">
            <h2>訊息</h2>
            <hr>
            <h3 id="msg"></h3>
        </div>
    </div>
    <div id="content">
        <div id="show_time">

        </div>
        <div id="chara_frame">
            <div id="info">
                <div class="number" gid="dmg">Loaing...</div>
                <div class="number" gid="mag">Loaing...</div>
                <div class="number" gid="def">Loaing...</div>
                <div class="number" gid="hp">Loaing...</div>
                <div class="number" gid="ex">Loaing...</div>
                <div class="number" gid="cex">Loaing...</div>
            </div>
            <div id="main">
                <img alt="Chara Photo" gid="photo">
                <div class="label" gid="nam">Loaing...</div>
                <div class="number" gid="level">Loaing...</div>
                <div class="number" gid="gold">Loaing...</div>
                <div class="number" gid="vipgold">Loaing...</div>
            </div>
        </div>
    </div>
    <div class="content_frame" id="city_frame">
        <h2 gid="nam">City Name</h2>
        <h3 gid="desc">City Desc</h3>
        <div class="city_content">
            <btn class="city_button" gid="city_quest_btn" data="quest">
                Quest
            </btn>
            <btn class="city_button" gid="city_pet_btn" data="pet">
                Pet
            </btn>
            <btn class="city_button" gid="city_mix_btn" data="mix">
                Mix
            </btn>
            <btn class="city_button" gid="city_act_btn" data="act">
                Act
            </btn>
            <btn class="city_button" gid="city_shop_btn" data="shop">
                Shop
            </btn>
            <btn class="city_button" gid="city_area_btn" data="area">
                Area
            </btn>
            <btn class="city_button" gid="city_cha_btn" data="cha">
                Cha
            </btn>
        </div>
    </div>
    <div id="city">
        <div id="guest_frame">
            Guest divst
            <div class="guest_content">

            </div>
        </div>
        <div class="content_frame" id="team_frame">
            <h2 gid="nam">Team</h2>
            <h3 gid="desc">Team Desc</h3>
            <hr>
            <span gid="area_nam">Area Nam</span>
            <span gid="map_nam">Map Nam</span>
            <span gid="map_desc">Map Desc</span>
            <p>
                Pass:
                <input type="password" size="10"></input>
                <btn gid="create_team">Create Team</btn><span class="message">(沒設定密碼視為公開房)</span>
            </p>
            <div class="city_content">
              <div class="team">
              <btn class="join">Join</btn>
              <ul class="members">
                <li class ="member" sn="0">
                  <img class="photo" src="vipgold.png">
                  <div class=nam>廖哥</div>
                  <div class=lv>lv.99</div>
                  <div class=cex>cex.869</div>
                </li>
                <li class ="member" sn="1">
                  <img class="photo" src="vipgold.png">
                  <div class=nam>廖哥</div>
                  <div class=lv>lv.99</div>
                  <div class=cex>cex.869</div>
                </li>
                <li class ="member" sn="2">
                  <img class="photo" src="vipgold.png">
                  <div class=nam>廖哥</div>
                  <div class=lv>lv.99</div>
                  <div class=cex>cex.869</div>
                </li>
                <li class ="member" sn="3">
                  <img class="photo" src="vipgold.png">
                  <div class=nam>廖哥</div>
                  <div class=lv>lv.99</div>
                  <div class=cex>cex.869</div>
                </li>
              </ul>
              </div>
            </div>
            <btn class="city_button" gid="sub_btn_3" data="map">Map</btn>
            <btn class="city_button" gid="sub_btn_2" data="area">Area</btn>
            <btn class="city_button" gid="sub_btn_1" data="city">Town</btn>
            </div>
        </div>
    </div>
</body>
<script>
$('#city').show();
$('#team_frame').show();

$(function(){
  // 初始化參數
  var _navLi = $(".members > .member"),
    speed = 200,  // 移動速度
    maxWidth = 200, // 最大寬
    minWidth = 50,  // 最小寬
    diffWidth = maxWidth - minWidth;
 
  _navLi.each(function(i){
    var _this = $(this),
      _idx = parseInt(_this.attr('sn'));
      //_left = !_idx ? 0: (maxWidth + minWidth * (_idx -1 ));
      //_prev = _this.prev(),
    //_left = !_prev.length ? 0 :(_prev.position().left + (i==1 ? maxWidth : minWidth));
    // 先把每一個 li 的位置都放到定位
    // 並把 left 值記錄起來
    var _left = 0;
    switch (i) {
      case 0:
        _left = 0;
        break;
      default:
        _left = 200 + (_idx-1) * 50;
    }
    _this.css("left", _left).data("left", _left);
  }).mouseover(function(){
    // 當滑鼠移到選項時, 把它後面選項都滑動回去
    // 再把自己跟前面的選項都往前滑揩
    $(this).nextAll().each(slideBack).end().prevAll().andSelf().each(function(){
      var _this = $(this);
      //if(_navLi.index(_this)>0){
      if (_this.attr('sn') != '0') {
        _this.stop().animate({
          left: _this.data("left") - diffWidth
        }, speed);
      }
    });
  });
 
  // 當滑鼠離開 #nav 時把選項都滑回原來位置
  $(".members").mouseleave(function(){
    $("li", this).each(slideBack);
  });
 
  // 控制選項的滑動
  function slideBack(){
    var _this = $(this);
    _this.stop().animate({
      left: _this.data("left")
    }, speed);
  }
});
</script>

</html>
